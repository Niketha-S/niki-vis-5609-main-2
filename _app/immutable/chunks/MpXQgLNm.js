import{c as dt,a as ke,n as ht}from"./DqiF99WP.js";import{h as Be,a0 as xt,U as St,f as bt,a5 as Ft,k as p,av as Qe,Y as oe,a6 as ge,a8 as ae,s as He,a4 as Ge,a9 as Xe}from"./DllsF_mC.js";import{d as Yt,s as Ee,e as Je}from"./BN5TdZZb.js";import{a as kt}from"./BMfMIjeu.js";import{e as Ht,i as Wt}from"./V1YzKkg1.js";import{s as V}from"./BdWRhC0o.js";import{b as Ke}from"./DUdfFFCA.js";import{p as ie,s as _t,a as At}from"./CYjJcxkb.js";import{w as Lt}from"./CgseIEyF.js";import{S as $e,e as Ot,g as Nt,t as et,h as It,j as Vt,k as zt,b as Zt,l as Pt}from"./DUXprHVX.js";function yt(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=yt(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Rt(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=yt(e))&&(r&&(r+=" "),r+=t);return r}function jt(e){return typeof e=="object"?Rt(e):e??""}function qt(e,t,n){var r=e==null?"":""+e;return r=r?r+" "+t:t,r===""?null:r}function Bt(e,t,n,r,a,o){var s=e.__className;if(Be||s!==n){var h=qt(n,r);(!Be||h!==e.getAttribute("class"))&&(h==null?e.removeAttribute("class"):e.setAttribute("class",h)),e.__className=n}return o}function Qt(e,t){let n,r;if(t===void 0)for(const a of e)a!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)));else{let a=-1;for(let o of e)(o=t(o,++a,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}function Gt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of e)(a=t(a,++r,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}function Xt(e){return e}var We=1,_e=2,Ve=3,Te=4,tt=1e-6;function Et(e){return"translate("+e+",0)"}function Jt(e){return"translate(0,"+e+")"}function Kt(e){return t=>+e(t)}function $t(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function en(){return!this.__axis}function Tt(e,t){var n=[],r=null,a=null,o=6,s=6,h=3,C=typeof window<"u"&&window.devicePixelRatio>1?0:.5,f=e===We||e===Te?-1:1,M=e===Te||e===_e?"x":"y",w=e===We||e===Ve?Et:Jt;function g(l){var W=r??(t.ticks?t.ticks.apply(t,n):t.domain()),z=a??(t.tickFormat?t.tickFormat.apply(t,n):Xt),k=Math.max(o,0)+h,Z=t.range(),_=+Z[0]+C,F=+Z[Z.length-1]+C,d=(t.bandwidth?$t:Kt)(t.copy(),C),O=l.selection?l.selection():l,c=O.selectAll(".domain").data([null]),U=O.selectAll(".tick").data(W,t).order(),R=U.exit(),E=U.enter().append("g").attr("class","tick"),x=U.select("line"),Y=U.select("text");c=c.merge(c.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),U=U.merge(E),x=x.merge(E.append("line").attr("stroke","currentColor").attr(M+"2",f*o)),Y=Y.merge(E.append("text").attr("fill","currentColor").attr(M,f*k).attr("dy",e===We?"0em":e===Ve?"0.71em":"0.32em")),l!==O&&(c=c.transition(l),U=U.transition(l),x=x.transition(l),Y=Y.transition(l),R=R.transition(l).attr("opacity",tt).attr("transform",function(S){return isFinite(S=d(S))?w(S+C):this.getAttribute("transform")}),E.attr("opacity",tt).attr("transform",function(S){var A=this.parentNode.__axis;return w((A&&isFinite(A=A(S))?A:d(S))+C)})),R.remove(),c.attr("d",e===Te||e===_e?s?"M"+f*s+","+_+"H"+C+"V"+F+"H"+f*s:"M"+C+","+_+"V"+F:s?"M"+_+","+f*s+"V"+C+"H"+F+"V"+f*s:"M"+_+","+C+"H"+F),U.attr("opacity",1).attr("transform",function(S){return w(d(S)+C)}),x.attr(M+"2",f*o),Y.attr(M,f*k).text(z),O.filter(en).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===_e?"start":e===Te?"end":"middle"),O.each(function(){this.__axis=d})}return g.scale=function(l){return arguments.length?(t=l,g):t},g.ticks=function(){return n=Array.from(arguments),g},g.tickArguments=function(l){return arguments.length?(n=l==null?[]:Array.from(l),g):n.slice()},g.tickValues=function(l){return arguments.length?(r=l==null?null:Array.from(l),g):r&&r.slice()},g.tickFormat=function(l){return arguments.length?(a=l,g):a},g.tickSize=function(l){return arguments.length?(o=s=+l,g):o},g.tickSizeInner=function(l){return arguments.length?(o=+l,g):o},g.tickSizeOuter=function(l){return arguments.length?(s=+l,g):s},g.tickPadding=function(l){return arguments.length?(h=+l,g):h},g.offset=function(l){return arguments.length?(C=+l,g):C},g}function tn(e){return Tt(Ve,e)}function nn(e){return Tt(Te,e)}function nt(e){return typeof e=="string"?new $e([[document.querySelector(e)]],[document.documentElement]):new $e([[e]],Ot)}function rn(e,t){e=e.slice();var n=0,r=e.length-1,a=e[n],o=e[r],s;return o<a&&(s=n,n=r,r=s,s=a,a=o,o=s),e[n]=t.floor(a),e[r]=t.ceil(o),e}const Ae=new Date,Le=new Date;function D(e,t,n,r){function a(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return a.floor=o=>(e(o=new Date(+o)),o),a.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),a.round=o=>{const s=a(o),h=a.ceil(o);return o-s<h-o?s:h},a.offset=(o,s)=>(t(o=new Date(+o),s==null?1:Math.floor(s)),o),a.range=(o,s,h)=>{const C=[];if(o=a.ceil(o),h=h==null?1:Math.floor(h),!(o<s)||!(h>0))return C;let f;do C.push(f=new Date(+o)),t(o,h),e(o);while(f<o&&o<s);return C},a.filter=o=>D(s=>{if(s>=s)for(;e(s),!o(s);)s.setTime(s-1)},(s,h)=>{if(s>=s)if(h<0)for(;++h<=0;)for(;t(s,-1),!o(s););else for(;--h>=0;)for(;t(s,1),!o(s););}),n&&(a.count=(o,s)=>(Ae.setTime(+o),Le.setTime(+s),e(Ae),e(Le),Math.floor(n(Ae,Le))),a.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?a.filter(r?s=>r(s)%o===0:s=>a.count(0,s)%o===0):a)),a}const ve=D(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ve.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?D(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):ve);ve.range;const B=1e3,P=B*60,Q=P*60,G=Q*24,ze=G*7,rt=G*30,Oe=G*365,ce=D(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*B)},(e,t)=>(t-e)/B,e=>e.getUTCSeconds());ce.range;const Ze=D(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*B)},(e,t)=>{e.setTime(+e+t*P)},(e,t)=>(t-e)/P,e=>e.getMinutes());Ze.range;const un=D(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*P)},(e,t)=>(t-e)/P,e=>e.getUTCMinutes());un.range;const Pe=D(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*B-e.getMinutes()*P)},(e,t)=>{e.setTime(+e+t*Q)},(e,t)=>(t-e)/Q,e=>e.getHours());Pe.range;const on=D(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Q)},(e,t)=>(t-e)/Q,e=>e.getUTCHours());on.range;const Me=D(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*P)/G,e=>e.getDate()-1);Me.range;const Re=D(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/G,e=>e.getUTCDate()-1);Re.range;const an=D(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/G,e=>Math.floor(e/G));an.range;function te(e){return D(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*P)/ze)}const we=te(0),pe=te(1),sn=te(2),cn=te(3),le=te(4),ln=te(5),fn=te(6);we.range;pe.range;sn.range;cn.range;le.range;ln.range;fn.range;function ne(e){return D(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/ze)}const Mt=ne(0),De=ne(1),gn=ne(2),mn=ne(3),fe=ne(4),hn=ne(5),yn=ne(6);Mt.range;De.range;gn.range;mn.range;fe.range;hn.range;yn.range;const je=D(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());je.range;const Tn=D(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Tn.range;const X=D(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());X.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:D(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});X.range;const ee=D(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ee.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:D(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ee.range;function Mn(e,t,n,r,a,o){const s=[[ce,1,B],[ce,5,5*B],[ce,15,15*B],[ce,30,30*B],[o,1,P],[o,5,5*P],[o,15,15*P],[o,30,30*P],[a,1,Q],[a,3,3*Q],[a,6,6*Q],[a,12,12*Q],[r,1,G],[r,2,2*G],[n,1,ze],[t,1,rt],[t,3,3*rt],[e,1,Oe]];function h(f,M,w){const g=M<f;g&&([f,M]=[M,f]);const l=w&&typeof w.range=="function"?w:C(f,M,w),W=l?l.range(f,+M+1):[];return g?W.reverse():W}function C(f,M,w){const g=Math.abs(M-f)/w,l=Nt(([,,k])=>k).right(s,g);if(l===s.length)return e.every(et(f/Oe,M/Oe,w));if(l===0)return ve.every(Math.max(et(f,M,w),1));const[W,z]=s[g/s[l-1][2]<s[l][2]/g?l-1:l];return W.every(z)}return[h,C]}const[Cn,Un]=Mn(X,je,we,Me,Pe,Ze);function Ne(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ie(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function me(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function vn(e){var t=e.dateTime,n=e.date,r=e.time,a=e.periods,o=e.days,s=e.shortDays,h=e.months,C=e.shortMonths,f=he(a),M=ye(a),w=he(o),g=ye(o),l=he(s),W=ye(s),z=he(h),k=ye(h),Z=he(C),_=ye(C),F={a:j,A:q,b:re,B:H,c:null,d:ct,e:ct,f:Rn,g:$n,G:tr,H:zn,I:Zn,j:Pn,L:Ct,m:jn,M:qn,p:Ue,q:de,Q:gt,s:mt,S:Bn,u:Qn,U:Gn,V:Xn,w:En,W:Jn,x:null,X:null,y:Kn,Y:er,Z:nr,"%":ft},d={a:ue,A:xe,b:Se,B:be,c:null,d:lt,e:lt,f:ar,g:Tr,G:Cr,H:rr,I:ur,j:or,L:vt,m:ir,M:sr,p:Fe,q:Ye,Q:gt,s:mt,S:cr,u:lr,U:fr,V:gr,w:mr,W:hr,x:null,X:null,y:yr,Y:Mr,Z:Ur,"%":ft},O={a:x,A:Y,b:S,B:A,c:J,d:it,e:it,f:On,g:at,G:ot,H:st,I:st,j:Wn,L:Ln,m:Hn,M:_n,p:E,q:kn,Q:In,s:Vn,S:An,u:xn,U:Sn,V:bn,w:dn,W:Fn,x:K,X:Ce,y:at,Y:ot,Z:Yn,"%":Nn};F.x=c(n,F),F.X=c(r,F),F.c=c(t,F),d.x=c(n,d),d.X=c(r,d),d.c=c(t,d);function c(i,m){return function(y){var u=[],L=-1,v=0,N=i.length,I,$,qe;for(y instanceof Date||(y=new Date(+y));++L<N;)i.charCodeAt(L)===37&&(u.push(i.slice(v,L)),($=ut[I=i.charAt(++L)])!=null?I=i.charAt(++L):$=I==="e"?" ":"0",(qe=m[I])&&(I=qe(y,$)),u.push(I),v=L+1);return u.push(i.slice(v,L)),u.join("")}}function U(i,m){return function(y){var u=me(1900,void 0,1),L=R(u,i,y+="",0),v,N;if(L!=y.length)return null;if("Q"in u)return new Date(u.Q);if("s"in u)return new Date(u.s*1e3+("L"in u?u.L:0));if(m&&!("Z"in u)&&(u.Z=0),"p"in u&&(u.H=u.H%12+u.p*12),u.m===void 0&&(u.m="q"in u?u.q:0),"V"in u){if(u.V<1||u.V>53)return null;"w"in u||(u.w=1),"Z"in u?(v=Ie(me(u.y,0,1)),N=v.getUTCDay(),v=N>4||N===0?De.ceil(v):De(v),v=Re.offset(v,(u.V-1)*7),u.y=v.getUTCFullYear(),u.m=v.getUTCMonth(),u.d=v.getUTCDate()+(u.w+6)%7):(v=Ne(me(u.y,0,1)),N=v.getDay(),v=N>4||N===0?pe.ceil(v):pe(v),v=Me.offset(v,(u.V-1)*7),u.y=v.getFullYear(),u.m=v.getMonth(),u.d=v.getDate()+(u.w+6)%7)}else("W"in u||"U"in u)&&("w"in u||(u.w="u"in u?u.u%7:"W"in u?1:0),N="Z"in u?Ie(me(u.y,0,1)).getUTCDay():Ne(me(u.y,0,1)).getDay(),u.m=0,u.d="W"in u?(u.w+6)%7+u.W*7-(N+5)%7:u.w+u.U*7-(N+6)%7);return"Z"in u?(u.H+=u.Z/100|0,u.M+=u.Z%100,Ie(u)):Ne(u)}}function R(i,m,y,u){for(var L=0,v=m.length,N=y.length,I,$;L<v;){if(u>=N)return-1;if(I=m.charCodeAt(L++),I===37){if(I=m.charAt(L++),$=O[I in ut?m.charAt(L++):I],!$||(u=$(i,y,u))<0)return-1}else if(I!=y.charCodeAt(u++))return-1}return u}function E(i,m,y){var u=f.exec(m.slice(y));return u?(i.p=M.get(u[0].toLowerCase()),y+u[0].length):-1}function x(i,m,y){var u=l.exec(m.slice(y));return u?(i.w=W.get(u[0].toLowerCase()),y+u[0].length):-1}function Y(i,m,y){var u=w.exec(m.slice(y));return u?(i.w=g.get(u[0].toLowerCase()),y+u[0].length):-1}function S(i,m,y){var u=Z.exec(m.slice(y));return u?(i.m=_.get(u[0].toLowerCase()),y+u[0].length):-1}function A(i,m,y){var u=z.exec(m.slice(y));return u?(i.m=k.get(u[0].toLowerCase()),y+u[0].length):-1}function J(i,m,y){return R(i,t,m,y)}function K(i,m,y){return R(i,n,m,y)}function Ce(i,m,y){return R(i,r,m,y)}function j(i){return s[i.getDay()]}function q(i){return o[i.getDay()]}function re(i){return C[i.getMonth()]}function H(i){return h[i.getMonth()]}function Ue(i){return a[+(i.getHours()>=12)]}function de(i){return 1+~~(i.getMonth()/3)}function ue(i){return s[i.getUTCDay()]}function xe(i){return o[i.getUTCDay()]}function Se(i){return C[i.getUTCMonth()]}function be(i){return h[i.getUTCMonth()]}function Fe(i){return a[+(i.getUTCHours()>=12)]}function Ye(i){return 1+~~(i.getUTCMonth()/3)}return{format:function(i){var m=c(i+="",F);return m.toString=function(){return i},m},parse:function(i){var m=U(i+="",!1);return m.toString=function(){return i},m},utcFormat:function(i){var m=c(i+="",d);return m.toString=function(){return i},m},utcParse:function(i){var m=U(i+="",!0);return m.toString=function(){return i},m}}}var ut={"-":"",_:" ",0:"0"},b=/^\s*\d+/,pn=/^%/,Dn=/[\\^$*+?|[\]().{}]/g;function T(e,t,n){var r=e<0?"-":"",a=(r?-e:e)+"",o=a.length;return r+(o<n?new Array(n-o+1).join(t)+a:a)}function wn(e){return e.replace(Dn,"\\$&")}function he(e){return new RegExp("^(?:"+e.map(wn).join("|")+")","i")}function ye(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function dn(e,t,n){var r=b.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function xn(e,t,n){var r=b.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Sn(e,t,n){var r=b.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function bn(e,t,n){var r=b.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Fn(e,t,n){var r=b.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function ot(e,t,n){var r=b.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function at(e,t,n){var r=b.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Yn(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function kn(e,t,n){var r=b.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Hn(e,t,n){var r=b.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function it(e,t,n){var r=b.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Wn(e,t,n){var r=b.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function st(e,t,n){var r=b.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function _n(e,t,n){var r=b.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function An(e,t,n){var r=b.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Ln(e,t,n){var r=b.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function On(e,t,n){var r=b.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Nn(e,t,n){var r=pn.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function In(e,t,n){var r=b.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Vn(e,t,n){var r=b.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ct(e,t){return T(e.getDate(),t,2)}function zn(e,t){return T(e.getHours(),t,2)}function Zn(e,t){return T(e.getHours()%12||12,t,2)}function Pn(e,t){return T(1+Me.count(X(e),e),t,3)}function Ct(e,t){return T(e.getMilliseconds(),t,3)}function Rn(e,t){return Ct(e,t)+"000"}function jn(e,t){return T(e.getMonth()+1,t,2)}function qn(e,t){return T(e.getMinutes(),t,2)}function Bn(e,t){return T(e.getSeconds(),t,2)}function Qn(e){var t=e.getDay();return t===0?7:t}function Gn(e,t){return T(we.count(X(e)-1,e),t,2)}function Ut(e){var t=e.getDay();return t>=4||t===0?le(e):le.ceil(e)}function Xn(e,t){return e=Ut(e),T(le.count(X(e),e)+(X(e).getDay()===4),t,2)}function En(e){return e.getDay()}function Jn(e,t){return T(pe.count(X(e)-1,e),t,2)}function Kn(e,t){return T(e.getFullYear()%100,t,2)}function $n(e,t){return e=Ut(e),T(e.getFullYear()%100,t,2)}function er(e,t){return T(e.getFullYear()%1e4,t,4)}function tr(e,t){var n=e.getDay();return e=n>=4||n===0?le(e):le.ceil(e),T(e.getFullYear()%1e4,t,4)}function nr(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+T(t/60|0,"0",2)+T(t%60,"0",2)}function lt(e,t){return T(e.getUTCDate(),t,2)}function rr(e,t){return T(e.getUTCHours(),t,2)}function ur(e,t){return T(e.getUTCHours()%12||12,t,2)}function or(e,t){return T(1+Re.count(ee(e),e),t,3)}function vt(e,t){return T(e.getUTCMilliseconds(),t,3)}function ar(e,t){return vt(e,t)+"000"}function ir(e,t){return T(e.getUTCMonth()+1,t,2)}function sr(e,t){return T(e.getUTCMinutes(),t,2)}function cr(e,t){return T(e.getUTCSeconds(),t,2)}function lr(e){var t=e.getUTCDay();return t===0?7:t}function fr(e,t){return T(Mt.count(ee(e)-1,e),t,2)}function pt(e){var t=e.getUTCDay();return t>=4||t===0?fe(e):fe.ceil(e)}function gr(e,t){return e=pt(e),T(fe.count(ee(e),e)+(ee(e).getUTCDay()===4),t,2)}function mr(e){return e.getUTCDay()}function hr(e,t){return T(De.count(ee(e)-1,e),t,2)}function yr(e,t){return T(e.getUTCFullYear()%100,t,2)}function Tr(e,t){return e=pt(e),T(e.getUTCFullYear()%100,t,2)}function Mr(e,t){return T(e.getUTCFullYear()%1e4,t,4)}function Cr(e,t){var n=e.getUTCDay();return e=n>=4||n===0?fe(e):fe.ceil(e),T(e.getUTCFullYear()%1e4,t,4)}function Ur(){return"+0000"}function ft(){return"%"}function gt(e){return+e}function mt(e){return Math.floor(+e/1e3)}var se,Dt;vr({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function vr(e){return se=vn(e),Dt=se.format,se.parse,se.utcFormat,se.utcParse,se}function pr(e){return new Date(e)}function Dr(e){return e instanceof Date?+e:+new Date(+e)}function wt(e,t,n,r,a,o,s,h,C,f){var M=Vt(),w=M.invert,g=M.domain,l=f(".%L"),W=f(":%S"),z=f("%I:%M"),k=f("%I %p"),Z=f("%a %d"),_=f("%b %d"),F=f("%B"),d=f("%Y");function O(c){return(C(c)<c?l:h(c)<c?W:s(c)<c?z:o(c)<c?k:r(c)<c?a(c)<c?Z:_:n(c)<c?F:d)(c)}return M.invert=function(c){return new Date(w(c))},M.domain=function(c){return arguments.length?g(Array.from(c,Dr)):g().map(pr)},M.ticks=function(c){var U=g();return e(U[0],U[U.length-1],c??10)},M.tickFormat=function(c,U){return U==null?O:f(U)},M.nice=function(c){var U=g();return(!c||typeof c.range!="function")&&(c=t(U[0],U[U.length-1],c??10)),c?g(rn(U,c)):M},M.copy=function(){return zt(M,wt(e,t,n,r,a,o,s,h,C,f))},M}function wr(){return It.apply(wt(Cn,Un,X,je,we,Me,Pe,Ze,ce,Dt).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var dr=ht('<g><rect role="presentation" fill="#449900" class="bar svelte-y1ii2z"><title> </title></rect><text font-size="14" text-anchor="middle" fill="#000"> </text></g>'),xr=ht('<svg><g class="bars"></g><g></g><g></g></svg>');function Or(e,t){xt(t,!0);const[n,r]=_t(),a=()=>At(f,"$selectedGenre",n);let o=ie(t,"progress",3,0),s=ie(t,"width",3,500),h=ie(t,"height",3,400),C=ie(t,"showValues",3,!0);ie(t,"currentYear",19,()=>new Date().getFullYear()),ie(t,"startYear",3,1945);let f=Lt("");const M=oe(()=>Qt(t.movies.map(x=>x.year)));function w(x){return x[0]?wr().domain(x).range([0,100]).invert(o()):new Date}const g=oe(()=>w(p(M)));function l(x,Y){let S={};return x.filter(A=>A.year<=Y).forEach(A=>{A.genres.forEach(J=>{S[J]=(S[J]||0)+1})}),S}const W=oe(()=>l(t.movies,p(g))),z={top:15,bottom:50,left:30,right:10};let k={top:z.top,right:s()-z.right,bottom:h()-z.bottom,left:z.left};const Z=oe(()=>Zt().range([k.left,k.right]).domain(Object.keys(p(W))).padding(.1)),_=oe(()=>Pt().domain([0,Gt(Object.values(p(W)))??40]).range([k.bottom,k.top])),F=oe(()=>p(Z).bandwidth());let d=Qe(void 0),O=Qe(void 0);function c(){nt(p(d)).transition().duration(300).call(tn(p(Z))).selectAll("text").attr("transform","rotate(45)").style("text-anchor","start"),nt(p(O)).transition().duration(300).call(nn(p(_)))}St(()=>{c()});var U=dt(),R=bt(U);{var E=x=>{var Y=xr(),S=ge(Y);Ht(S,21,()=>Object.entries(p(W)),Wt,(K,Ce)=>{let j=()=>p(Ce)[0],q=()=>p(Ce)[1];var re=dr(),H=ge(re);H.__mouseover=()=>{f.set(j())},H.__mouseout=()=>{f.set("")};var Ue=ge(H),de=ge(Ue,!0);ae(Ue),ae(H);var ue=He(H),xe=ge(ue,!0);ae(ue),ae(re),Ge((Se,be,Fe,Ye,i)=>{Bt(re,0,jt(j()),"svelte-y1ii2z"),V(H,"aria-label",`Genre ${j()}: ${q()} movies`),V(H,"width",p(F)),V(H,"height",Se),V(H,"x",be),V(H,"y",Fe),V(H,"opacity",a()===j()?1:.7),Ee(de,q()),V(ue,"x",Ye),V(ue,"y",i),Ee(xe,C()||a()===j()?q():"")},[()=>p(_)(0)-p(_)(q()),()=>p(Z)(j()),()=>p(_)(q()),()=>p(Z)(j())+p(F)/2,()=>p(_)(q())-5]),Je("focus",H,()=>{f.set(j())}),Je("blur",H,()=>{f.set("")}),ke(K,re)}),ae(S);var A=He(S);Ke(A,K=>Xe(d,K),()=>p(d));var J=He(A);Ke(J,K=>Xe(O,K),()=>p(O)),ae(Y),Ge(()=>{V(Y,"width",s()),V(Y,"height",h()),V(Y,"viewBox",`0 0 ${s()} ${h()}`),V(A,"transform",`translate(0, ${k.bottom??""})`),V(J,"transform",`translate(${k.left}, 0)`)}),ke(x,Y)};kt(R,x=>{t.movies.length>0&&x(E)})}ke(e,U),Ft(),r()}Yt(["mouseover","mouseout"]);export{Or as B,tn as a,nn as b,Qt as e,Gt as m,nt as s,wr as t};
